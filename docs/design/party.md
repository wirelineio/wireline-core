# Party

## Specification

* A party provides a 'virtual space' for collaboration between peers.
* Each party has a unique identifier called the party key (a Public Key).
* A party consists of a logical set of feeds from one or more peers.
* A party can be replicated between peers to enable them to synchronize the party data/state.
* An active party is one that a peer is currently interested in and actively replicating with other peers.
* A peer might have multiple parties active at the same time.
* Participation in a party is by invitation only.

### Peer Discovery

* Peers need a way to discover other peers that belong to a party they are interested in.
* The discovery mechanism MUST preserve privacy (observers MUST not be able to figure out the party key).

### Party Membership

* A party starts with one participant (the one that created the party).
* The party creator establishes (cryptographically verifiable) ownership over the party.
* New participants are added to the party using an invitation mechanism.
* Party invites take the form of decentralized credentials created by the inviter, written to a feed, authorizing another participant to join the party. The party key itself is communicated out of band to the invitee (e.g., using a hyperlink or ephemeral message).
* New participants may have read-only or read-write access to the party. Finer grained access control should be possible (e.g., the ability to invite and revoke other members).

### Replication

* Peers can discover the list of feeds in a party from connected peers (and implicitly, request replication of those feeds).
* Support ongoing discovery of new feeds in the party, even from peers that aren't directly connected.
* Peers have full control over what feeds they replicate (i.e. the decision is made locally).
* Peers require credentials from connecting peers to share feed keys or perform replication.

### Technical Requirements

* It MUST be possible to replicate multiple parties over a single connection between two peers.
* Multiple types of connection transports should be supported (e.g., WebRTC, TCP & Bluetooth).
* Certain peers may replicate parties over multiple transports to bridge heterogeneous networks.


## Design Notes

### Party Creation & Ownership

* A new PKI key pair is generated by the party creator.
* The public key becomes the party key.
* The private key is used to sign the genesis block, described below.
* The genesis block is the first message (in the first feed) in the party.
* It assigns ownership of the party to the creator and is cryptographically signed with the private key.
* The private key can then be burned.
